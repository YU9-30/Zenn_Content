---
title: ""
emoji: "🔥"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: []
published: false
---
これまでに趣味で3つほどWebアプリケーションを開発しました。その当時を振り返りながら、まとめていきます。
## 開発したWebアプリケーション
1. [クリエイターサポートツール](https://creator-support-tool.yu-9.work/)
  SUZURI APIを利用し、商品情報を取得、商品画像からSNS用のPR画像を生成できるアプリケーション
3. [BECCHU](http://becchu.yu-9.work/)
  あらかじめ登録されたデザインを選択し、色を自由にカスタマイズしてTシャツを作成できるWebアプリケーション
5. [BUMESHI!!](https://bumeshi-eat.herokuapp.com/)
  美味しいものを共有する飲食店レビューサイト、現在開発中 
  
今回はクリエイターサポートツールについて、まとめます。

# クリエイターサポートツール
## 開発動機
開発動機しては、動的なサイトを作りたかったというだけです。もともと、静的なサイトを作成し公開していましたが、動的なサイトも作ってみたいと思い、開発を始めました。RubyかphpでWebアプリケーションを作成することになったのですが、契約しているサーバーのメニューにphpについての設定があったため、phpで開発をはじめました。(この時、Rubyを学べばよかったと後悔しています)
ちなみに、プログラミング経験としてはC,C++,Python,Javaがすこしできるくらいです。

## 目的
『PR画像をもっと気軽に作れるようにしたい』
SUZURIは趣味で利用する人やクリエイターさんがといった方が多いと感じています。クリエイターさんはPR画像を作ることが多いですが、趣味でPR画像を作成する方少ないと考えました。
なので、ポチポチしてスマホでPR画像が気軽に作れるようにしたいなと思いました。

アプリケーション名からわかるようにSUZURIでショップ開いている人をサポートできるようにできるツール群をつくりたいということをクリエイターサポートツールにしました。(結局、PR画像生成のみですが...)


## 言語やインフラの選定など
- 言語
  - php
  前述したように契約していたサーバーのメニューにPHP設定と書かれており、phpなら環境構築をせずに動作しそうだっため、phpにしました。
  - html, css
   sassやscssはこの当時知りませんでした。
- フレームワーク
  - なし
    フレームワーク？聞いたことあるけどよくわからん、今は手をつけずに作ろうという考えだったと思います(早く手をつけるべきだった)
- データベース
  - なし
    MySqlを使えますが、認証はSUZURI APIで行う。セキュリティについての知識が乏しいので個人情報などのデータを保持したくないという考えでデータベースはなし
- サーバー
  - ロリポップ(ライトプラン)
    静的なサイトを公開するために契約。大学のサークルのサイトを作成する際に利用していたので、使ったことがあるロリポップを契約という感じです。
- APIなど
　- SUZURI API
    もともとSUZURI APIを使ってアプリケーションを作りたいなと思っていたため、最初から利用することにしていました。
    SUZURIで作りたいなと思った理由としてはSUZURIが好きだから、SUZURI APIを利用する際のサンプルコードやドキュメント、記事があり、開発しやすそうだったからです。

ここまででわかるように、この言語を選んだ理由があまりにも適当です。

## 開発で難しかったこと
### まずAPIってどうやってつかうの????
phpに初めてふれ、APIを利用するのも初めて...という状況でAPIってどうやって使うの???crultとは、get?post?tokenみたな状態でした。
知らないことは調べるしかないので、わからないことを調べていきました。
手始めに、[SUZURI APIのドキュメント](https://suzuri.jp/developer/documentation/v1)を読みました。認証を理解するために、ドキュメントにでてきたOAuth認証が何なのかしらべました。つまり、認可サーバーに認可リクエストを送るためにGETメゾットを利用するんだな...などと調べながらコーディングをしていきました。
SUZURI APIに関する記事などがあるのでそちらも調べながら進めていきました。

#### 参考にしたもの
https://qiita.com/TakahikoKawasaki/items/e37caf50776e00e733be
https://note.com/deconbatch/n/n87fbc7d19c4e



### 画像の保存はどうする
画像を生成し、ユーザーは画像をダウンロードすることになります。
- 画像生成したあとにブラウザ閉じたらまた作成しなおしになる
- 生成された画像のアクセス権限はどうする?

PR画像を生成するのはもともと、SNSでPR画像を投稿するためのものであることから、PR画像をサイト内で表示することとしました。誰でも生成された画像を見れるようにすることで画像生成後ダウンロードせずに、ブラウザを閉じても一覧画面からダウンロードできるようになります。
画像をクリックすることでSUZURIのショップにとぶようにリンクを設定しました。
![](https://storage.googleapis.com/zenn-user-upload/8vm2qws1xw0242oba5u4eb9yvxky)
*動作風景*
## 開発していた楽しかったところ
### 商品情報を取得できた！！
OAuth認証が分からなかったが、OAuth認証を行い、商品情報を取得でき、商品一覧が画面に表示されたときはめちゃくちゃ楽しかったです。
![](https://storage.googleapis.com/zenn-user-upload/w60iw8f8s0433pj7jr15eic8pzt6)
*実際の画面*

これ使えば、自分のサイトに商品一覧を表示できるじゃん！！とか思って、実装した。
商品を取得して、それが並ぶだけでも結構楽しい

## このとき学べたこと
- APIの利用方法
- GET,POSTなどの意味と利用方法
- OAuth認証について
- PHPについて

## 今自分が作るなら
- ログアウト機能を実装
- 画像生成した際のユーザーIDを保持して、生成した画像へのアクセス権限を付与
  - データベースを利用してユーザーIDと生成された画像の紐づけをして、アクセスを制限することもできるようにする。(SUZURI APIでは非公開のアイテムも取得でき、生成する画像に未発売のアイテムを利用することもできるため)
- サイトのデザイン
  - cssを一つ一つ書いていたので、Bulmaやtailwindで書き直したい
- Laravelを使って、リファクタリング
  - ページネーションとか実装したい

## 最後に
作った当時のことを思い出すと、もっとこうできたのではないかと思うので少しは成長しているのかなと感じました。
次回は同じくSUZURI APIを利用したBECCHUについてまとめます。



